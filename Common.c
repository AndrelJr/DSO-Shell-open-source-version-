//////////////////////////////////////////////////////////////////////////////
//
// 	Filename:	Common.c
//	Version:		
//	Data:		
//
//	Author:		Liu, Zemin
//	Company:	JYE Tech
//
//-----------------------------------------------------------------------------
//
// 	Target: 		STM32F103C8 
// 	Tool chain: 	CodeSourcery G++
//
//
//-----------------------------------------------------------------------------
//	Required files:
//
//-----------------------------------------------------------------------------
//	Notes:
//
//
//-----------------------------------------------------------------------------
//	Revision History:
//
///////////////////////////////////////////////////////////////////////////////
//
//-----------------------------------------------------------------------------
// 	Includes
//-----------------------------------------------------------------------------

#include	"Common.h"

void	Delay(volatile U16 count)
{
 while(count) {
 	count--;
 	}
}

// -------------------------------------------------------------------------
// Convert binary to hexical digit string. 'size' is in bytes.
//
U8*	BinToHexStr(U32 bin, U8 *str, U8 size)
{
 U8 tmp0;

 size = 2 * size + 2;
 *(str + size) = 0;		// end of string
 size--;
 while(size >= 2) {
	tmp0 = 0x0000000F & bin;
	if(tmp0 <= 9) {
		tmp0 |= 0x30;
		}
	else {
		tmp0 += 0x37;
		}
	*(str + size) = tmp0;
	bin >>= 4;
	size--;
 	}
 *(str + size--) = 'x';
 *(str + size) = '0';
 return str;
}

